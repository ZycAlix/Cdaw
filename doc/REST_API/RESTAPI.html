<!doctype html>
<html>
	<head>
		<title>CDAW API</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="style.css">
	</head>
	<body>
		 <div class="head">
		 	 Projet CDAW Mah-jong API is published here!
		 <div>

		 <div class="content">
		 	<br>
		 	<h1> Mah-jong <br>API</h1>
		 	<br>

		 	<span>
			 	<h2>Root Endpoint</h2>
			 	<h3>The root endpoint should prefix all resources and is only accessible over HTTPS. </h3>
			 	<h4>http://localhost/projet-cdaw/BackEnd/src/api.php</h4>
			 	<hr>
			 </span>
			 <span>
				<h2>Register</h2> 
				<h3>Method: POST</h3>
				<h3>A example of sending body for Register.</h3>
				<h4>
					{<br>
						&nbsp&nbsp  "USER_LOGIN": "yuchen.zhong@etu.imt-lille-douai.fr",<br>
						&nbsp&nbsp  "USER_PASSWORD": "password",<br>
						&nbsp&nbsp  "USER_FIRSTNAME": "Yuchen",<br>
						&nbsp&nbsp  "USER_LASTNAME": "ZHONG",<br>
						&nbsp&nbsp  "USER_ROLE": "1",<br>
						&nbsp&nbsp  "ADRESS_IP": "192.168.0.9"<br>	
					}<br>		
				</h4>					
				<hr>
			   </span>
			   <span>
				<h2>Login </h2> 
				<h3>Method: POST</h3>
				<h3>A example of sending body for login.</h3>
				<h4>
					{<br>
					&nbsp&nbsp  "login": "Hongyan",<br>
					&nbsp&nbsp  "password": "$2a$10$xYH3WyLse6mEctoaKl8IhepKbuoVEYj89SVieaF8Zwfvz5Y.Zfwcq"<br>
					}<br>							
			   </h4>
			   <h2>Response body</h2> 
			   <h3>A example of Response body for login.</h3>
			   <h4>
				   {<br>
				   &nbsp&nbsp   "jwt_token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MDY5MTMwNzUs<br>ImV4cCI6MTYwNjkxNjY3NSwiaXNzIjoibG9jYWxob3N0Ojg4ODgiLCJkYXRhIjp<br>7ImlkIjoiMjMifX0.u7TBcdxntBusSsLaRNnD4pfB8MV5eNrYRw0tLVgC8x0",<br>
				   &nbsp&nbsp	"data": "1",<br>
				   &nbsp&nbsp	"status": "BLOCKED"<br>
				}<br>							
			  </h4>
				<hr>
		   </span>
		   <span>
			<h2>Header</h2>
			<h3>After login, every request sent by the user should be authentified with a token generated by login action.</h3>
			  <h3>Authentication type(bear)+token :</h3>
			<h4>Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpYXQiOjE2MDcwMDg1MTUsIm<br>V4cCI6MTYwNzAxMjExNSwiaXNzIjoibG9jYWxob3N0Ojg4ODgiLCJkYXRhIjp7Im<br>lkIjoiMSJ9fQ.9T-qVLZx0r19HhUJfJI-l2ENLzHBGeEV9rmZkXOcQaw</h4>
			<hr>			
		   </span> 
		 	<span>
			 	<h2>Get Users<h2>
				<h3>Method: GET</h3>
			 	<h3>Get informations of all users from API.</h3>
			 	<h4>http://localhost/projet-cdaw/BackEnd/src/api.php/users</h4>
			 	
			</span>
			<span>
				<h2>Response example<h2>
				<h3>A example of getting all users' information.</h3>
				<h4>
					{<br>
					&nbsp&nbsp 	"message": "Access granted.",<br>
					&nbsp&nbsp	"data": [<br>
					&nbsp&nbsp&nbsp&nbsp		{<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp			"USER_LOGIN": "weichen.tao@etu.imt-lille-douai.fr",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp			"ID_UTILISATEUR": "2",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp			"USER_ROLE": "0",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp			"ADRESS_IP": "134.206.229.58"<br>
					&nbsp&nbsp&nbsp&nbsp		},<br>
					&nbsp&nbsp&nbsp&nbsp		{<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp			"USER_LOGIN": "xixi",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp			"ID_UTILISATEUR": "5",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp			"USER_ROLE": "0",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp			"ADRESS_IP": "134.206.229.58"<br>
					&nbsp&nbsp&nbsp&nbsp		}<br>
				
					 &nbsp  ]<br>
					}<br>			
			   </h4>
				<hr>
		   </span>
		  
				<span>
			 	<h2>Get a Single User<h2>
				<h3>Method: GET</h3>
				<h3>Get informations of the user by his login.</h3>
			 	<h4>http://localhost/projet-cdaw/BackEnd/src/api.php/user/hongyan</h4>
				<h2>Response example<h2>
				<h3>A example of getting informations of the user "hongyan".</h3>
				<h4>{<br>
					&nbsp&nbsp"message": "Access granted.",<br>
					&nbsp&nbsp"data": [<br>
					&nbsp&nbsp&nbsp&nbsp	{<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp		"ID_UTILISATEUR": "1",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp		"USER_LOGIN": "yuchen.zhong@etu.imt-lille-douai.fr",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp		"USER_PASSWORD": "$2y$10$b/5AR4isTi7z6fF8fPF1Z.gf0gvKkZK/O.7ciU68DSxFsYP6fsGRK",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp		"USER_FIRSTNAME": "Yuchen",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp		"USER_LASTNAME": "ZHONG",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp		"USER_ROLE": "1",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp		"NOMBRE_PARTIE_JOUE": "0",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp		"NOMBRE_PARTIE_GAGNE": "0",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp		"STATUT": "BLOCKED",<br>
					&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp		"ADRESS_IP": "192.168.0.9"<br>
					&nbsp&nbsp&nbsp&nbsp	}<br>
					&nbsp&nbsp ]<br>
				}<br>	
			   </h4>
				<hr>
		   </span>
			<span>
			 	<h2>Create a User<h2>
				<h3>Method: POST</h3>
			 	<h3>Create a user into table "Utilisateur".</h3>
			 	<h4>http://localhost/projet-cdaw/BackEnd/src/api.php/User</h4>	
			</span>
			<span>
				<h2>Send body exemple</h2> 
				<h3>A example of sending body for creating a user.</h3>
				<h4>
					{<br>
					&nbsp&nbsp  "USER_LOGIN": "yuchen.zhong@etu.imt-lille-douai.fr",<br>
					&nbsp&nbsp  "USER_PASSWORD": "password",<br>
					&nbsp&nbsp  "USER_FIRSTNAME": "Yuchen",<br>
					&nbsp&nbsp  "USER_LASTNAME": "ZHONG",<br>
					&nbsp&nbsp  "USER_ROLE": "1",<br>
					&nbsp&nbsp  "NOMBRE_PARTIE_JOUE": 0,<br>
					&nbsp&nbsp  "NOMBRE_PARTIE_GAGNE": 0,<br>
					&nbsp&nbsp  "STATUT": "ONLINE",<br>
					&nbsp&nbsp  "ADRESS_IP": "192.168.0.9"<br>
					}<br>							
			   </h4>
				<hr>
		   </span>
			<span>
				<h2>Update a User<h2>
				<h3>Method: POST</h3>
				<h3>Update the user whose id is 1.</h3>
				<h4>http://localhost/projet-cdaw/BackEnd/src/api.php/User/1</h4>
			</span>
			<span>
				<h2>Send body exemple</h2> 
				<h3>A example of sending body.</h3>
				<h4>
					{<br>
					&nbsp&nbsp  "USER_LOGIN": "yuchen.zhong@etu.imt-lille-douai.fr",<br>
					&nbsp&nbsp  "USER_PASSWORD": "password",<br>
					&nbsp&nbsp  "USER_FIRSTNAME": "Yuchen",<br>
					&nbsp&nbsp  "USER_LASTNAME": "ZHONG",<br>
					&nbsp&nbsp  "USER_ROLE": "1",<br>
					&nbsp&nbsp  "NOMBRE_PARTIE_JOUE": 0,<br>
					&nbsp&nbsp  "NOMBRE_PARTIE_GAGNE": 0,<br>
					&nbsp&nbsp  "STATUT": "ONLINE",<br>
					&nbsp&nbsp  "ADRESS_IP": "192.168.0.9"<br>
					}<br>							
			</h4>
				<hr>
			</span>
	
			<span>
				<h2>Delete a User<h2>
				<h3>Method: DELETE</h3>
				<h3>Delete the user whose id is 1.</h3>
				<h4>http://localhost/projet-cdaw/BackEnd/src/api.php/user/1</h4>
				<hr>
			</span>
		   <span>
			<h2>Block user by login</h2> 
			<h3>Method: PUT</h3>
			<h3>A example of sending body for blocking a user by login.</h3>
			<h4>
				{<br>
					&nbsp&nbsp  "USER_LOGIN": "yuchen.zhong@etu.imt-lille-douai.fr"<br>			
				}<br>		
			</h4>					
			<hr>
		   </span>
		   <span>
			<h2>Unblock user by login</h2> 
			<h3>Method: PUT</h3>
			<h3>A example of sending body for unblocking a user by login.</h3>
			<h4>
				{<br>
					&nbsp&nbsp  "USER_LOGIN": "yuchen.zhong@etu.imt-lille-douai.fr"<br>			
				}<br>		
			</h4>					
			<hr>
		   </span>
		   <span>
			<h2>Block user by adress Ip</h2> 
			<h3>Method: PUT</h3>
			<h3>A example of sending body for blocking a user by adress Ip.</h3>
			<h4>
				{<br>
					&nbsp&nbsp  "ADRESS_IP": "192.168.0.9"<br>			
				}<br>		
			</h4>					
			<hr>
		   </span>
		   <span>
			<h2>Unblock User by adress Ip</h2> 
			<h3>Method: PUT</h3>
			<h3>A example of sending body for unblocking a user by adress Ip.</h3>
			<h4>
				{<br>
					&nbsp&nbsp  "ADRESS_IP": "192.168.0.9"<br>			
				}<br>		
			</h4>					
			<hr>
		   </span>
		   <span>
			<h2>Promote user to Admin by login</h2> 
			<h3>Method: PUT</h3>
			<h3>A example of sending body for promoting a user by login.</h3>
			<h4>
				{<br>
					&nbsp&nbsp  "USER_LOGIN": "yuchen.zhong@etu.imt-lille-douai.fr"<br>				
				}<br>		
			</h4>					
			<hr>
		   </span>
		   <span>
			<h2>Delete an admin by login</h2> 
			<h3>Method: DELETE</h3>
			<h3>A example of sending body for deleting a user by login.</h3>
			<h4>
				{<br>
					&nbsp&nbsp  "USER_LOGIN": "yuchen.zhong@etu.imt-lille-douai.fr"<br>				
				}<br>		
			</h4>					
			<hr>
		   </span>
		 </div>
	</body>
</html>
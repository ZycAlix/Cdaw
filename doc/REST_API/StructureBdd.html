<!doctype html>
<html>
	<head>
		<title>Construction de bdd</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="style.css">
	</head>
	<body>
		 <div class="head">
		 	 Ici c'est expliqué le structure de Base de Données.
		 <div>

		 <div class="content">
		 	<br>
		 	<h1> I Manger Mieux <br>BDD</h1>
		 	<br>

		 	<span>
			 	<h2>MCD</h2>
			 	<h3>Le design suivant est fait pour construire la base de données. </h3>
			 	<img id="mcd" src="img/mcd.png" >
			 	<h3>Quelques points:<br><br><li>Vu que mon app est single user, lien n'est crée pour Users.</li><br><br><li>Pour simplifier le projet, je n'ai pas construit de tableaux sur le "sexe", "niveau_sportif" et "age" car ces éléments ont des valeurs fixes et sont peu nombreux.</li><br><br><li>Contrairement aux type d'aliments car on a peut y ajouter différents types et ils sont beaucoup plus nombreux. </li></h3>>
			 	<hr>
		 	</span>
		 	<span>
			 	<h2>MLD<h2>
			 	<h3>Voici le MLD.</h3>
			 	<img id="mcd" src="img/mld.png" >
			 	<hr>
			</span>
			<span>
			 	<h2>Requêtes SQL</h2>

			 	<h3>CRUD pour les users.</h3>
			 	<h4>SELECT * FROM imm_users</h4>
				<h4>SELECT * FROM imm_users where id=:id</h4>
				<h4>INSERT INTO imm_users SET login=:login, password=:password, age=:age, niveau_sportif=:niveau_sportif,sex=:sex</h4>
				<h4>UPDATE imm_users SET login=:login, password=:password, age=:age,niveau_sportif=:niveau_sportif,sex=:sex WHERE id_user = :id_user";</h4>
				<h4>DELETE FROM imm_users WHERE id_user = :id_user</h4>

				<h3>CRUD pour les aliments.</h3>
				<h4>SELECT id_aliment,nom,type,proteine,lipide,glucide,energie,sel FROM imm_aliment JOIN imm_type ON imm_aliment.id_type = imm_type.id_type</h4>
				<h4>SELECT * FROM imm_aliment WHERE id_aliment = :id</h4>
				<h4>INSERT INTO imm_aliment SET nom=:nom, id_type=:id_type, proteine=:proteine, lipide=:lipide,glucide=:glucide, energie=:energie, sel=:sel"</h4>
				<h4>UPDATE imm_aliment SET
	                 nom=:nom, id_type=:id_type, proteine=:proteine, lipide=:lipide,glucide=:glucide
	            WHERE
	                id_aliment = :id_aliment</h4>
	             <h4>DELETE FROM imm_aliment WHERE id_aliment = :id_aliment</h4>
			 	<hr>
		
			 	
			 	<h3>CRUD pour les types d'aliment.</h3>
			 	<h4>SELECT * FROM imm_type</h4>
				<h4>INSERT INTO imm_type
	            SET
	                 type=:type</h4>
				
			 	<hr>

			 	<h3>CRUD pour les journals.</h3>
			 	<h4>SELECT * FROM imm_journal</h4>
				<h4>INSERT INTO
	                imm_journal
	            SET
	                 date=:date</h4>
				
			 	<hr>

			 	<h3>CRUD pour les composer.</h3>
			 	<h4>SELECT imm_aliment.id_aliment,imm_aliment.nom,imm_journal.id_journal,imm_journal.date,imm_composer.quantite FROM imm_composer JOIN imm_aliment ON imm_aliment.id_aliment = imm_composer.id_aliment JOIN imm_journal ON imm_journal.id_journal = imm_composer.id_journal</h4>
				<h4>SELECT * FROM imm_composer WHERE id_aliment = :id_aliment AND id_journal=:id_journal</h4>
				<h4>INSERT INTO
                    imm_composer
                SET
                     id_aliment=:id_aliment, id_journal=:id_journal, quantite=:quantite</h4>
                 <h4>UPDATE
                    imm_composer
                SET
                     quantite=:quantite
                WHERE
                    id_aliment = :id_aliment AND id_journal = :id_journal</h4>
                  <h4>DELETE FROM imm_composer WHERE id_aliment = :id_aliment AND id_journal=:id_journal</h4>
			 	<hr>

			 	<h3>Read pour tout selon une date.</h3>
			 	<h4>SELECT imm_journal.date,imm_aliment.nom,imm_aliment.proteine,imm_aliment.lipide,imm_aliment.glucide,imm_aliment.energie,imm_aliment.sel, imm_composer.quantite FROM imm_composer JOIN imm_aliment ON imm_aliment.id_aliment = imm_composer.id_aliment JOIN imm_journal ON imm_journal.id_journal = imm_composer.id_journal where imm_journal.date=:date;</h4>
			</span>
		 </div>
	</body>
</html>